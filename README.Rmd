---
output: github_document
always_allow_html: true
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment  = "#>",
  echo     = FALSE
)

library(rtweet)
library(tweetrmd)
library(webshot2)
library(dplyr)
```

### Hi, I'm Luke ðŸ‘‹

<!--
**lazappi/lazappi** is a âœ¨ _special_ âœ¨ repository because its `README.md` (this file) appears on your GitHub profile.

Here are some ideas to get you started:

- ðŸ”­ Iâ€™m currently working on ...
- ðŸŒ± Iâ€™m currently learning ...
- ðŸ‘¯ Iâ€™m looking to collaborate on ...
- ðŸ¤” Iâ€™m looking for help with ...
- ðŸ’¬ Ask me about ...
- ðŸ“« How to reach me: ...
- ðŸ˜„ Pronouns: ...
- âš¡ Fun fact: ...
-->

### Here's some stats on my GitHub repos

![lazappi's github stats](https://github-readme-stats.vercel.app/api?username=lazappi&count_private=true&show_icons=true&theme=buefy&hide_title=True)
![lazappi's top languages](https://github-readme-stats.vercel.app/api/top-langs/?username=lazappi&hide=html&theme=buefy&layout=compact)

_Courtesy of https://github.com/anuraghazra/github-readme-stats_

### My latest tweet and retweet

```{r tweets, fig.show = "hold", out.width = "50%"}
token <- tryCatch({
    get_token()
}, error = function(e) {
    create_token(
        "github-readme-last-tweet",
        consumer_key    = Sys.getenv("CONSUMER_KEY"),
        consumer_secret = Sys.getenv("CONSUMER_SECRET"),
        access_token    = Sys.getenv("ACCESS_TOKEN"),
        access_secret   = Sys.getenv("ACCESS_SECRET"),
        set_renv        = FALSE
    )
})

tweets <- get_timeline("_lazappi_", n = 30, token = token)
original <- tweets %>%
    filter(
        !is_retweet,
        source != "IFTTT"
    ) %>%
    arrange(desc(created_at))
retweets <- tweets %>%
    filter(is_retweet) %>%
    arrange(desc(created_at))

tweet_screenshot(original$status_url[1], maxwidth   = 400)
tweet_screenshot(retweets$status_url[1], maxwidth   = 400)
```
